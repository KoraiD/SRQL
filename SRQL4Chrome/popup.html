<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
   <HEAD>
<TITLE>SRQL query builder</TITLE>
<link rel="icon" 
type="image/ico" 
href="images/favicon.ico">
<script src="scripts/rollbar.js"></script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/jquery-ui.min.js"></script>
<link rel="stylesheet" href="styles/styles.css">
<link rel="stylesheet" href="styles/jquery-ui.min.css">
    </HEAD>
   <BODY>
<script>
Rollbar.info("Query builder inicialized");
</script>
  <script>
  $( function() {
    $( ".drag-drop" ).draggable({ snap: true, 
      stop: function() {
        var offset = $(this).offset();
        var xPos = offset.left;
        var yPos = offset.top;
        var id = $(this).attr('id')
        Rollbar.debug("current div ID: " + String(id));
        Rollbar.debug("PositionX: " + String(xPos));
    }
    });
    $( ".stick" ).draggable({ snap: ".dropzone" });
  } );
  </script>

  <script>
    function DocsTab() {
      Rollbar.info("RQL docs requested");
        window.open( 
          "https://docs.rollbar.com/docs/rql", "_blank"); 
    } 
    document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('rql_btn').addEventListener('click', DocsTab);
      });
  </script> 
<div class="enclosure">

<div class="items">

  <div id ="req_box" class="store">Required
    <div id="select" class="stick">Select</div>
    <div id="from" class="drag-drop">From</div>
    <div id="table" class="drag-drop">
      <select name="tables" id="tbl_pick">
        <option value="it_oc">item_occurence</option>
        <option value="deploy">deploy</option>
      </select>
    </div>
    <div id="where" class="drag-drop">Where</div>
  </div>

  <div id ="opt_box" class="store">Optional
    <div id="star" class="drag-drop">*</div>
    <div id="group_by" class="drag-drop">Group by</div>
    <div id="order_by" class="drag-drop">Order by</div>
    <div id="limit" class="drag-drop">Limit</div>
    <!--TODO: make textbox width dynamic-->
    <div id="any_input" class="drag-drop">
      <input id="any_text" class="input-block">
    </div>
  </div>

<!--
    <div id ="opt_box" class="store">Operators
    <div id="add" class="drag-drop">+</div>
  </div>

  <div id ="opt_box" class="store">Functions
    <div id="count" class="drag-drop">Count(*)</div>
  </div>
-->
    <div id="first-dropzone" class="dropzone"></div>
    <div id="second-dropzone" class="dropzone"></div>

    <button id="rql_btn" class="button">RQL docs</button>
</div>

</div>
   </BODY>
</HTML>
